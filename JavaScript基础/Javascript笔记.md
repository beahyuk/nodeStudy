# JavaScript 编程语言

## 1. 简介

### 1.1 JavaScript简介

#### JavaScript的定义

- JavaScript最初的目的是为了“赋予网页生命”
- 这种编程语言我们称之为 **脚本**，它们可以写在HTML中，在页面加载的时候会自动执行
- 脚本作为纯文本存在和执行，它们不需要特殊的准备或编译即可运行

#### JavaScript执行

JavaScript可以在浏览器内执行，也可以在服务端执行，甚至还能在任意搭载了JavaScript引擎的设备中都可以执行

浏览器中嵌入了JavaScript引擎，有时也称作JavaScript虚拟机

不同的引擎有不同的“代号”，例如“

- V8 ——Chrome和Opera中的JavaScript引擎
- SpiderMonkey——Firefox中的JavaScript引擎
- 还有一些其他的引擎

## 2.JavaScript基础知识

### 2.3 现代模式，"use strict"

长久以来，JavaScript 不断向前发展且并未带来任何兼容性问题。新的特性被加入，旧的功能也没有改变。

这么做有利于兼容旧代码，但缺点是 JavaScript 创造者的任何错误或不完善的决定也将永远被保留在 JavaScript 语言中。

这种情况一直持续到 2009 年 ECMAScript 5 (ES5) 的出现。**ES5 规范增加了新的语言特性并且修改了一些已经存在的特性。为了保证旧的功能能够使用，大部分的修改是默认不生效的。你需要一个特殊的指令 —— `"use strict"` 来明确地激活这些特性。**

就是ES5修改了一些存在的特性，为了保证旧功能正常使用，默认是不生效这些修改过的特性的，为了让这个特性生效，可以使用“use strict”来激活这些特性

**确保 “use strict” 出现在最顶部**

请确保 `"use strict"` 出现在脚本的最顶部，否则严格模式可能无法启用。

这里的严格模式就没有被启用：

```javascript
alert("some code");
// 下面的 "use strict" 会被忽略，必须在最顶部。

"use strict";

// 严格模式没有被激活
```

只有注释可以出现在 `"use strict"` 的上面。

### 2.4  变量

#### 2.4.1  变量命名：

JavaScript 的变量命名有两个限制：

1. 变量名称必须仅包含字母，数字，符号 `$` 和 `_`。
2. 首字符必须非数字。

如果命名包括多个单词，通常采用驼峰式命名法（[camelCase](https://en.wikipedia.org/wiki/CamelCase)）。也就是，单词一个接一个，除了第一个单词，其他的每个单词都以大写字母开头：`myVeryLongName`。

美元符号 `'$'` 和下划线 `'_'` 也可以用于变量命名。它们是正常的符号，就跟字母一样，没有任何特殊的含义。

下面的命名是有效的：

```javascript
let $ = 1; // 使用 "$" 声明一个变量
let _ = 2; // 现在用 "_" 声明一个变量

alert($ + _); // 3
```

下面的变量命名不正确：

```javascript
let 1a; // 不能以数字开始

let my-name; // 连字符 '-' 不允许用于变量命名
```

#### 2.4.2 区分大小写

命名为 `apple` 和 `AppLE` 的变量是不同的两个变量。

#### 2.4.3 常量

声明一个常数（不变）变量，可以使用 `const` 而非 `let`：

```javascript
const myBirthday = '18.04.1982';
```

使用 `const` 声明的变量称为“常量”。它们不能被修改，如果你尝试修改就会发现报错：

```javascript
const myBirthday = '18.04.1982';

myBirthday = '01.01.2001'; // 错误，不能对常量重新赋值
```

当程序员能确定这个变量永远不会改变的时候，就可以使用 `const` 来确保这种行为，并且清楚地向别人传递这一事实。

#### 2.4.4 大写形式的常数

一个普遍的做法是将**常量用作别名**，以便记住那些在执行之前就已知的难以记住的值。

使用大写字母和下划线来命名这些常量。

例如，让我们以所谓的“web”（十六进制）格式为颜色声明常量：

```javascript
const COLOR_RED = "#F00";
const COLOR_GREEN = "#0F0";
const COLOR_BLUE = "#00F";
const COLOR_ORANGE = "#FF7F00";

// ……当我们需要选择一个颜色
let color = COLOR_ORANGE;
alert(color); // #FF7F00
```

> 什么时候该为常量使用大写命名，什么时候进行常规命名？让我们弄清楚一点。

作为一个“常数”，意味着值永远不变。但是有些常量在执行之前就已知了（比如红色的十六进制值），还有些在执行期间被“计算”出来，但初始赋值之后就不会改变。

例如：

```javascript
const pageLoadTime = /* 网页加载所需的时间 */;
```

`pageLoadTime` 的值在页面加载之前是未知的，所以采用常规命名。但是它仍然是个常量，因为赋值之后不会改变。

### 2.5  数据类型

JavaScript 中的值都具有特定的类型。例如，字符串或数字。

在 JavaScript 中有 8 种基本的数据类型（译注：7 种原始类型和 1 种引用类型）。

1. Number
2. BigInt(还需要兼容)
3. String
4. Boolean
5. null
6. undefined
7. typeof

#### String类型

在 JavaScript 中，有三种包含字符串的方式。

1. 双引号：`"Hello"`.
2. 单引号：`'Hello'`.
3. 反引号：``Hello``.

双引号和单引号都是“简单”引用，在 JavaScript 中两者几乎没有什么差别。

反引号是 **功能扩展** 引号。它们允许我们通过将**变量**和**表达式**包装在 `${…}` 中，来将它们嵌入到字符串中。例如：

```javascript
let name = "John";

// 嵌入一个变量
alert( `Hello, ${name}!` ); // Hello, John!

// 嵌入一个表达式
alert( `the result is ${1 + 2}` ); // the result is 3
```

`${…}` 内的表达式会被计算，计算结果会成为字符串的一部分。可以在 `${…}` 内放置任何东西：诸如名为 `name`的变量，或者诸如 `1 + 2` 的算数表达式，或者其他一些更复杂的。

#### "undefined"值

特殊值 `undefined` 和 `null` 一样自成类型。

`undefined` 的含义是 `未被赋值`。

> 如果一个变量已被声明，但未被赋值，那么它的值就是 `undefined`

从技术上讲，可以显式地将 `undefined` 赋值给变量：……但是不建议这样做。通常，使用 `null` 将一个“空”或者“未知”的值写入变量中，而 `undefined` 则保留作为未进行初始化的事物的默认初始值。

#### 总结

JavaScript 中有八种基本的数据类型（译注：前七种为基本数据类型，也称为原始类型，而 `object` 为复杂数据类型）。

- `number` 用于任何类型的数字：整数或浮点数，在 ±253 范围内的整数。
- `bigint` 用于任意长度的整数。
- `string` 用于字符串：一个字符串可以包含 0 个或多个字符，所以没有单独的单字符类型。
- `boolean` 用于 `true` 和 `false`。
- `null` 用于未知的值 —— 只有一个 `null` 值的独立类型。
- `undefined` 用于未定义的值 —— 只有一个 `undefined` 值的独立类型。
- `symbol` 用于唯一的标识符。
- `object` 用于更复杂的数据结构。

我们可以通过 `typeof` 运算符查看存储在变量中的数据类型。

- 两种形式：`typeof x` 或者 `typeof(x)`。
- 以字符串的形式返回类型名称，例如 `"string"`。
- `typeof null` 会返回 `"object"` —— 这是 JavaScript 编程语言的一个错误，实际上它并不是一个 `object`。

### 2.6  交互：alert，prompt和confirm

由于我们将使用浏览器作为我们的演示环境，让我们看几个与用户交互的函数：`alert`，`prompt` 和`confirm`。

#### prompt

`prompt` 函数接收两个参数：

```javascript
result = prompt(title, [default]);
```

浏览器会显示一个带有文本消息的模态窗口，还有 input 框和确定/取消按钮。

- `title`

  显示给用户的文本

- `default`

  可选的第二个参数，指定 input 框的初始值。

#### confirm

语法：

```javascript
result = confirm(question);
```

`confirm` 函数显示一个带有 `question` 以及确定和取消两个按钮的模态窗口。

点击确定返回 `true`，点击取消返回 `false`。

#### 总结

我们学习了与用户交互的 3 个浏览器的特定函数：

- `alert`

  显示信息。

- `prompt`

  显示信息要求用户输入文本。点击确定返回文本，点击取消或按下 Esc 键返回 `null`。

- `confirm`

  显示信息等待用户点击确定或取消。点击确定返回 `true`，点击取消或按下 Esc 键返回 `false`。

### 2.7  类型转换

#### 总结

有三种常用的类型转换：转换为 string 类型、转换为 number 类型和转换为 boolean 类型。

**字符串转换** —— 转换发生在输出内容的时候，也可以通过 `String(value)` 进行显式转换。原始类型值的 string 类型转换通常是很明显的。

**数字型转换** —— 转换发生在进行算术操作时，也可以通过 `Number(value)` 进行显式转换。

数字型转换遵循以下规则：

| 值             | 变成……                                                       |
| :------------- | :----------------------------------------------------------- |
| `undefined`    | `NaN`                                                        |
| `null`         | `0`                                                          |
| `true / false` | `1 / 0`                                                      |
| `string`       | “按原样读取”字符串，两端的空白会被忽略。空字符串变成 `0`。转换出错则输出 `NaN`。 |

**布尔型转换** —— 转换发生在进行逻辑操作时，也可以通过 `Boolean(value)` 进行显式转换。

布尔型转换遵循以下规则：

| 值                                    | 变成……  |
| :------------------------------------ | :------ |
| `0`, `null`, `undefined`, `NaN`, `""` | `false` |
| 其他值                                | `true`  |

上述的大多数规则都容易理解和记忆。人们通常会犯错误的值得注意的例子有以下几个：

- 对 `undefined` 进行数字型转换时，输出结果为 `NaN`，而非 `0`。
- 对 `"0"` 和只有空格的字符串（比如：`" "`）进行布尔型转换时，输出结果为 `true`。

### 2.8  基础运算符，数学

#### 术语：“一元运算符”，“二元运算符”，“运算元”

- 运算元：运算符应用的对象。a+b 中 a和b都是运算元
- 一元运算符：如果一个运算符对应的只有一个运算元。a++ 就是一元运算符
- 二元运算符：如果一个运算符拥有两个运算元。a+b 就是二元运算符

#### 取余 %

取余运算符是 `%`，尽管它看起来很像百分数，但实际并无关联。

`a % b` 的结果是 `a` 整除 `b` 的 [余数](https://zh.wikipedia.org/zh-hans/余数))。

#### 求幂 **

求幂运算 `a ** b` 是 `a` 乘以自身 `b` 次。

```javascript
alert( 2 ** 2 ); // 4  (2 * 2，自乘 2 次)
alert( 2 ** 4 ); // 16 (2 * 2 * 2 * 2，自乘 4 次)
```

#### 二元运算符 +

通常，加号 `+` 用于求和。

但是如果加号 `+` 被应用于字符串，它将合并（连接）各个字符串：

```javascript
alert(2 + 2 + '1' ); // "41"，不是 "221"
```

在这里，运算符是按顺序工作。第一个 `+` 将两个数字相加，所以返回 `4`，然后下一个 `+` 将字符串 `1` 加入其中，所以就是 `4 + '1' = 41`。

二元 `+` 是唯一一个以这种方式支持字符串的运算符。其他算术运算符只对数字起作用，并且总是将其运算元转换为数字。

#### 一元运算符+

一元运算符加号，或者说，加号 `+` 应用于单个值，对数字没有任何作用。

但是如果**运算元不是数字**，加号 `+` 则会将**其转化为数字**。

它的效果和 `Number(...)` 相同，但是更加简短。

```javascript
let apples = "2";
let oranges = "3";

alert( apples + oranges ); // "23"，二元运算符加号合并字符串
alert( +apples + +oranges ); // 5，在二元运算符加号起作用之前，所有的值都被转化为了数字
```

### 2.9  值的比较

#### 总结

- 比较运算符始终**返回布尔值。**
- **字符串**的比较，会按照**“词典”**顺序逐字符地比较大小。
- 当对**不同类型**的值进行比较时，它们会**先被转化为数字**（不包括严格相等检查）再进行比较。
- 在**非严格相等** `==` 下，`null` 和 `undefined` 相等且各自不等于任何其他的值。
- 在使用 `>` 或 `<` 进行比较时，需要注意变量可能为 `null/undefined` 的情况。比较好的方法是单独检查变量是否等于 `null/undefined`。

### 2.11  逻辑运算符

#### 或运算寻找第一个真值

或运算符 `||` 做了如下的事情：

- 从左到右依次计算操作数。
- 处理每一个操作数时，都将其转化为布尔值。如果结果是 `true`，就停止计算，返回这个操作数的初始值。
- 如果所有的操作数都被计算过（也就是，转换结果都是 `false`），则返回最后一个操作数。

返回的值是操作数的初始形式，不会做布尔转换。

也就是，一个或运算 `"||"` 的链，将返回**第一个真值**，如果**不存在真值**，就返回该链的**最后一个值**。

#### 多个或运算衍生的用法

1. **获取变量列表或者表达式的第一个真值。**

2. **短路求值（Short-circuit evaluation）。**

   `||` 对其参数进行处理，直到达到第一个真值，然后立即返回该值，而无需处理其他参数。

   如果操作数不仅仅是一个值，而是一个有副作用的表达式，例如变量赋值或函数调用，那么这一特性的重要性就变得显而易见了。

   ```javascript
   true || alert("not printed");
   false || alert("printed");
   ```

   在第一行中，或运算符 `||` 在遇到 `true` 时立即停止运算，所以 `alert` 没有运行。

   有时，人们利用这个特性，只在左侧的条件为假时才执行命令。

#### 与操作寻找第一个假值

与运算 `&&` 做了如下的事：

- 从左到右依次计算操作数。
- 将处理每一个操作数时，都将其转化为布尔值。如果结果是 `false`，就停止计算，并返回这个操作数的初始值。
- 如果所有的操作数都被计算过（也就是，转换结果都是 `true`），则返回最后一个操作数。

换句话说，与运算符返回**第一个假值**，如果没有假值就返回**最后一个值**。

上面的规则和或运算很像。区别就是与运算返回第一个假值而或操作返回第一个真值。

**与运算 `&&` 在或运算符 `||` 之前执行**

与运算 `&&` 的优先级比或运算 `||` 要高。

所以代码 `a && b || c && d` 完全跟 `&&` 表达式加了括号一样：`(a && b) || (c && d)`。

#### !（非）

感叹符号 `!` 表示布尔非运算。

运算符接受一个参数，并按如下运作：

1. 将**操作数转化为布尔类型**：`true/false`。
2. 返回相反的值。

```javascript
alert( !0 ); // true
```

非运算符 `!` 的优先级在所有逻辑运算符里面最高，所以它总是在 `&&` 和 `||` 前执行。

### 2.13 循环：while和for

**循环** 是一种重复运行同一代码的方法。

#### 跳出循环

通常条件为假时，循环会终止。

但我们随时都可以使用 `break` 指令**强制退出**。

只要在循环里条件不符合的，break了，就立刻跳出，不执行该循环体了

#### 继续下一次迭代

`continue` 指令是 `break` 的“轻量版”。它不会停掉整个循环。而是**停止当前这一次迭代**，并强制启动新一轮循环（如果条件允许的话）。

如果我们完成了当前的迭代，并且希望继续执行下一次迭代，我们就可以使用它。

continue是这次条件不符合了，下面代码不执行，跳出循环体，但是会再进行循环，如果符合循环条件的话。跟break不同，break是跳出循环体，不会再进行循环

#### break/continue 标签

`break/continue` 支持循环前的标签。标签是 `break/continue` 跳出嵌套循环以转到外部的唯一方法。

**标签** 是在循环之前带有冒号的标识符：

```javascript
labelName: for (...) {
  ...
}
```

`break <labelName>` 语句跳出循环至标签处：

```javascript
// outer是标签名
outer: for (let i = 0; i < 3; i++) {

  for (let j = 0; j < 3; j++) {

    let input = prompt(`Value at coords (${i},${j})`, '');

    // 如果是空字符串或被取消，则中断并跳出这两个循环。
    if (!input) break outer; // (*)

    // 用得到的值做些事……
  }
}
alert('Done!');
```

上述代码中，`break outer` 向上寻找名为 `outer` 的标签并跳出当前循环。

因此，控制权直接从 `(*)` 转至 `alert('Done!')`。

### 2.15 函数

#### 函数声明

`function` 关键字首先出现，然后是 **函数名**，然后是括号之间的 **参数** 列表（用逗号分隔，在上述示例中为空），最后是花括号之间的代码（即“函数体”）。

```javascript
function name(parameters) {
  ...body...
}
```

我们的新函数可以通过名称调用：`showMessage()`。

#### 局部变量

在函数中声明的变量只在该函数内部可见。

#### 外部变量

函数也可以访问外部变量，例如：

```javascript
                                                let userName = 'John';

function showMessage() {
  let message = 'Hello, ' + userName;
  alert(message);
}

showMessage(); // Hello, John
```

函数对外部变量拥有全部的访问权限。函数也可以修改外部变量。

只有在**没有局部变量**的情况下**才会使用外部变量**。

如果在函数内部声明了同名变量，那么函数会 **遮蔽** 外部变量。

局部变量 > 外部变量

#### 返回值

函数可以将一个值返回到调用代码中作为结果。

return 的是一个结果，可以是一个值

指令 `return` 可以在函数的任意位置。当执行到达时，函数停止，并将值返回给调用代码

执行return语句后，就直接跳出函数，不再执行下面代码

#### 函数命名

函数就是**行为**（action）。所以它们的名字通常是动词。它应该简短且尽可能准确地描述函数的作用。这样读代码的人就能清楚地知道这个函数的功能。

一种普遍的做法是用动词前缀来开始一个函数，这个前缀模糊地描述了这个行为。团队内部必须就前缀的含义达成一致。

例如，以 `"show"` 开头的函数通常会显示某些内容。

函数以 XX 开始……

- `"get…"` —— 返回一个值，
- `"calc…"` —— 计算某些内容，
- `"create…"` —— 创建某些内容，
- `"check…"` —— 检查某些内容并返回 boolean 值，等。

函数应该简短且只有一个功能。如果这个函数功能复杂，那么把该函数拆分成几个小的函数是值得的。

一个单独的函数不仅更容易测试和调试 —— 它的存在本身就是一个很好的注释！

### 2.16  函数表达式

#### 函数表达式有分号

注意：函数表达式结尾有一个分号 `;`，而函数声明没有：

```javascript
  function sayHi() {
  // ...
}

let sayHi = function() {
  // ...
};
```

- 在代码块的结尾不需要加分号 `;`，像 `if { ... }`，`for { }`，`function f { }` 等语法结构后面都不用加。
- 函数表达式是在语句内部的：`let sayHi = ...;`，作为一个值。它不是代码块而是一个赋值语句。不管值是什么，都建议在语句末尾添加分号 `;`。所以这里的分号与函数表达式本身没有任何关系，它只是用于终止语句。

#### 函数表达式和函数声明的区别

1. 两者最大的区别就是 调用函数 位置

函数声明未定义之前就可以被调用，而函数表达式得等到代码执行到那一行（该函数）后，才可以调用该函数

更细微的差别是，JavaScript 引擎会在 **什么时候** 创建函数。

**函数表达式是在代码执行到达时被创建，并且仅从那一刻起可用。**

**在函数声明被定义之前，它就可以被调用。**

原因：这是内部算法的原故。当 JavaScript **准备** 运行脚本时，首先会在脚本中寻找全局函数声明，并创建这些函数。我们可以将其视为“初始化阶段”。

在处理完所有函数声明后，代码才被执行。所以运行时能够使用这些函数。

也就是说js会先处理所有的函数声明再执行代码

2. 函数声明的另外一个特殊的功能是它们的块级作用域。

**严格模式下，当一个函数声明在一个代码块内时，它在该代码块内的任何位置都是可见的。但在代码块外不可见。**代码块就是{}

而使用函数表达式，现在代码块{}外面声明变量，然后在{}中定义函数，这样在代码块的外面就可以调用该函数

```javascript
let fn,age=19;
if(age>18){
    fn = function(){
        age + =1;
        console.log(age);
    };
}
fn(); //可以调用代码块里的函数
```

#### 选择函数声明or表达式?

一般来说，用函数声明。因为函数声明可读性好，而且在任何地方可以调用

除非，由于某种原因而导致函数声明不能使用，就用函数表达式

#### 总结

- **函数是值**。它们可以在代码的任何地方被分配，复制或声明。
- 如果函数在主代码流中被声明为单独的语句，则称为“函数声明”。
- 如果该函数是作为表达式的一部分创建的，则称其“函数表达式”。
- 在执行代码块之前，内部算法会先处理函数声明。所以函数声明在其被声明的代码块内的任何位置都是可见的。
- 函数表达式在执行流程到达时创建。

在大多数情况下，当我们需要声明一个函数时，最好使用函数声明，因为函数在被声明之前也是可见的。这使我们在代码组织方面更具灵活性，通常也会使得代码可读性更高。

所以，仅当函数声明不适合对应的任务时，才应使用函数表达式。

### 2.17 箭头函数，基础知识

#### 单行的箭头函数

箭头函数格式：

```javascript
let func = (arg1, arg2, ...argN) => expression
```

创建了一个函数 `func`，它接受参数 `arg1..argN`，然后使用参数对右侧的 `expression` 求值并返回其结果。

- 如果我们只有一个参数，还可以省略掉参数外的圆括号，使代码更短。

```javascript
let double = n => n * 2;
alert( double(3) ); // 6
```

- 如果没有参数，括号将是空的（但括号应该保留）：

```javascript
let sayHi = () => alert("Hello!");

sayHi(); 
```

- 箭头函数可以像函数表达式一样使用。

#### 多行的箭头函数

用花括号括起来。然后使用一个普通的 `return` 将需要返回的值进行返回。

```javascript
let sum = (a, b) => {  // 花括号表示开始一个多行函数
  let result = a + b;
  return result; // 如果我们使用了花括号，那么我们需要一个显式的 “return”
};

alert( sum(1, 2) ); // 3
```

#### 总结

对于**一行代码**的函数来说，箭头函数是相当方便的。它具体有两种：

1. 不带花括号：`(...args) => expression` — 右侧是一个表达式：函数计算表达式并返回其结果。
2. 带花括号：`(...args) => { body }` — 花括号允许我们在函数中编写多个语句，但是我们需要显式地 `return` 来返回一些内容。

## 4. Object（对象）：基础知识

### 4.1 对象

#### 1. 定义对象

通过使用带有可选 **属性列表** 的花括号 `{…}` 来创建对象。一个属性就是一个键值对（“key: value”），

其中键（`key`）是一个**字符串**（也叫做属性名），

​		值（`value`）可以是任何值。可以是字符串，数字，null，undefined,布尔类型或其他

#### 2. 创建对象

我们可以用下面两种语法中的任一种来创建一个空的对象（“空柜子”）：

```javascript
let user = new Object(); // “构造函数” 的语法
let user = {};  // “字面量” 的语法
```

通常，我们用花括号。这种方式我们叫做**字面量**。

#### 3. 对象的增删改查

前面定义过一个user的对象

- 增加对象属性

  ```javascript
  user.name = "lily";  // 直接点增加
  ```

- 删除对象属性

  ```javascript
  delete user.age;
  ```

- 修改对象属性

  ```javascript
  user.name = "linda"; //修改name的值
  ```

- 查看对象属性

  ```javascript
  let name = user.name;
  console.log(name);
  ```

```javascript
let user = {
    age: 18,
    height: 1.88,
};
// 增加属性
user.name = "lily";
// 删除属性
delete user.age;
// 修改属性
user.name = "linda";
// 查看属性
let height = user.height

console.log(user, height) //{ height: 1.88, name: 'linda' } 1.88
```

- 允许多字词语作为属性名，但必须给他们加上引号

  ```javascript
  let user = {
      "two words":"hello word",
  }
  ```

- 列表中的最后一个属性应以逗号结尾：

  ```
  let user = {
  	name:"lily",
  	age:30,
  }
  ```

  这叫做尾随（trailing）或悬挂（hanging）逗号。这样便于我们添加、删除和移动属性，因为所有的行都是相似的。

#### 4. const声明的对象可以修改

> 这个面试过！会问为什么可以修改

请注意：用 `const` 声明的对象 **能** 被修改。

```javascript
const user = {
  name: "John"
};

user.name = "Pete"; // 修改name属性

console.log(user.name); // Pete
```

因为对象数据是存储在栈空间的，在堆空间的只是指向 栈空间 的指针，是不变的，所以const  没有改变，一直都是地址。因此可以修改对象的属性值——解释的不是很好，这个回头修改

#### 5. 对象方括号访问

一般都是`user.name` 点的方式访问属性值，但如果属性名为多个词语，需要用方括号[]来访问：`user["two woeds"]`

请注意方括号中的**字符串要放在引号中**，单引号或双引号都可以。

- 访问属性名

  方括号提供了一种可以通过任意表达式来获取属性名的方法 —— 跟语义上的字符串不同 —— 比如像类似于下面的变量：

  ```javascript
  let key = "name";
  user[key] = lily;
  ```

  在这里，变量 `key` 可以是程序运行时**计算得到**的，也可以是根据**用户的输入得到**的。然后我们可以用它来访问属性。这给了我们很大的灵活性。

- 计算属性

  当创建一个对象时，我们可以在对象字面量中使用方括号。这叫做 **计算属性**。

  ```javascript
  let username = "name";
  let user = {
      [username]:"lily",
  };
  console.log(user) // { name: 'lily' }
  ```

  方括号比点符号更强大。它允许任何属性名和变量

  属性名是已知且简单的时候，就使用点符号。如果我们需要一些更复杂的内容，那么就用方括号。

#### 6. 属性存在性测试，“in”操作符

想查看一个 对象中是否存在某个属性时，可以使用in

语法是：

```javascript
"key" in object
```

例如：

```javascript
let user = { name: "John", age: 30 };

console.log( "age" in user ); // true，user.age 存在
console.log( "blabla" in user ); // false，user.blabla 不存在。
```

请注意，`in` 的左边必须是 **属性名**。通常是一个带引号的字符串。

如果不带引号，会认为是变量，所以一定要带引号，成为一个字符串

#### 7. 遍历“for…in”循环

遍历对象也可以用for..in方法，更快获得所有的键

为了遍历一个对象的所有键（key），可以使用一个特殊形式的循环：`for..in`。

语法：

```javascript
for (key in object) {
  // 对此对象属性中的每个键执行的代码
}
```

例如，让我们列出 `user` 所有的属性：

```javascript
let user = {
    name: "lily",
    age: 18,
    height: 1.88
};

for (let key in user) {
    console.log(key); // name,age,height
    console.log(user[key]); //18,height,1.88
}
```

#### 8. 总结

对象是具有一些特殊特性的关联数组。

它们存储属性（键值对），其中：

- 属性的键必须是字符串或者 symbol（通常是字符串）。
- 值可以是任何类型。

我们可以用下面的方法访问属性：

- 点符号: `obj.property`。
- 方括号 `obj["property"]`，方括号允许从变量中获取键，例如 `obj[varWithKey]`。

其他操作：

- 删除属性：`delete obj.prop`。
- 检查是否存在给定键的属性：`"key" in obj`。
- 遍历对象：`for(let key in obj)` 循环。

我们在这一章学习的叫做“普通对象（plain object）”，或者就叫对象。

JavaScript 中还有很多其他类型的对象：

- `Array` 用于存储有序数据集合，
- `Date` 用于存储时间日期，
- `Error` 用于存储错误信息。
- ……等等。

它们有着各自特别的特性，我们将在后面学习到。有时候大家会说“Array 类型”或“Date 类型”，但其实它们并不是自身所属的类型，而是属于一个对象类型即 “object”。它们以不同的方式对 “object” 做了一些扩展。

